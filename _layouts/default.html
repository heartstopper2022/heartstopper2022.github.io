<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-2HXG0WJV7N"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-2HXG0WJV7N');
  </script>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
  <title>Heartstopper Wallpaper Generator</title>
  <meta name="generator" content="Jekyll v4.2.2" />
  <meta property="og:title" content="Heartstopper Wallpaper Generator" />
  <meta property="og:locale" content="en_US" />
  <meta name="description" content="Heartstopper Wallpaper Generator" />
  <meta property="og:description" content="Heartstopper Wallpaper Generator" />
  <meta property="og:site_name" content="Heartstopper Wallpaper Generator" />
  <meta property="og:type" content="website" />
  <meta name="twitter:card" content="summary" />
  <meta property="twitter:title" content="Heartstopper Wallpaper Generator" />
  <script type="application/ld+json">
  {"@context":"https://schema.org","@type":"WebSite","description":"Heartstopper Wallpaper Generator","headline":"Heartstopper Wallpaper Generator","name":"Heartstopper Wallpaper Generator","url":"https://hsgaypanic.com/"}</script>
  <script src="/assets/js/jquery-3.6.0.min.js"></script>
  <script src="/assets/js/html2canvas.min.js"></script>
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <!-- End Jekyll SEO tag -->
  <link rel="stylesheet" href="/assets/main.css">
  <link rel="stylesheet" href="/assets/index.css">
  <link href="//cdn.muicss.com/mui-0.10.3/css/mui.min.css" rel="stylesheet" type="text/css" />
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
        rel="stylesheet">

  <style>
    @font-face {
      font-family: "bangers";
      src: url("/assets//fonts/Bangers-Regular.ttf");
    }
    @font-face {
      font-family: "abril";
      src: url("/assets//fonts/AbrilFatface-Regular.ttf");
    }
  </style>
</head>

<body style="font-family:Arial, Helvetica, sans-serif">
  <div id="wallpaper-container" style="height: 100vh;">
  <svg id="wallpaper" width="100%" height="100%" >
    <rect id="background" width="100%" height="100%" style="fill:#ffd6bb;stroke-width:0;" />
    <g id="stars"></g>
      <g >
        <circle class="st0 nasa-logo nasa-logo" cx="112.61" cy="96.49" r="96.49"/>
        <circle class="st1 nasa-logo nasa-logo" cx="103.93" cy="16.73" r="1.08"/>
        <circle class="st1 nasa-logo nasa-logo" cx="115.03" cy="18.17" r="1.08"/>
        <circle class="st1 nasa-logo nasa-logo" cx="129.6" cy="37.79" r="1.08"/>
        <circle class="st1 nasa-logo nasa-logo" cx="49.69" cy="138.75" r="1.08"/>
        <circle class="st1 nasa-logo nasa-logo" cx="52.5" cy="147.41" r="1.08"/>
        <circle class="st1 nasa-logo nasa-logo" cx="39.09" cy="140.05" r="0.81"/>
        <circle class="st1 nasa-logo nasa-logo" cx="83.08" cy="157.05" r="0.81"/>
        <circle class="st1 nasa-logo nasa-logo" cx="152.08" cy="142.72" r="0.81"/>
        <circle class="st1 nasa-logo nasa-logo" cx="172.13" cy="120.94" r="0.81"/>
        <circle class="st1 nasa-logo nasa-logo" cx="73.85" cy="44.12" r="0.81"/>
        <circle class="st1 nasa-logo nasa-logo" cx="95.92" cy="27.91" r="0.81"/>
        <circle class="st1 nasa-logo nasa-logo" cx="93.52" cy="26.32" r="0.81"/>
        <circle class="st1 nasa-logo nasa-logo" cx="91.36" cy="24.73" r="0.81"/>
        <circle class="st1 nasa-logo nasa-logo" cx="77.31" cy="48.3" r="0.81"/>
        <circle class="st1 nasa-logo nasa-logo" cx="109.82" cy="6.13" r="0.81"/>
        <circle class="st1 nasa-logo nasa-logo" cx="115.16" cy="29.49" r="0.81"/>
        <circle class="st1 nasa-logo nasa-logo" cx="106.74" cy="24.93" r="0.81"/>
        <circle class="st1 nasa-logo nasa-logo" cx="92.31" cy="31.14" r="0.81"/>
        <circle class="st1 nasa-logo nasa-logo" cx="155.92" cy="164.12" r="0.81"/>
        <circle class="st1 nasa-logo" cx="48.32" cy="144.23" r="0.81"/>
        <circle class="st1 nasa-logo" cx="104.72" cy="154.69" r="0.81"/>
        <circle class="st1 nasa-logo" cx="65.11" cy="143.59" r="0.81"/>
        <circle class="st1 nasa-logo" cx="72.12" cy="155.04" r="0.81"/>
        <circle class="st1 nasa-logo" cx="123.76" cy="147.82" r="0.81"/>
        <circle class="st1 nasa-logo" cx="152.23" cy="131.76" r="0.81"/>
        <circle class="st1 nasa-logo" cx="173.81" cy="141.62" r="0.81"/>
        <circle class="st1 nasa-logo" cx="181.16" cy="146.33" r="0.81"/>
        <circle class="st1 nasa-logo" cx="182.37" cy="133.49" r="0.81"/>
        <circle class="st1 nasa-logo" cx="75.06" cy="115.32" r="0.81"/>
        <circle class="st1 nasa-logo" cx="75.37" cy="133.92" r="1.08"/>
        <circle class="st1 nasa-logo" cx="81.86" cy="147.62" r="1.08"/>
        <circle class="st1 nasa-logo" cx="159.6" cy="133.35" r="1.08"/>
        <circle class="st1 nasa-logo" cx="187.58" cy="131.76" r="1.08"/>
        <circle class="st1 nasa-logo" cx="173.74" cy="125.84" r="1.08"/>
        <circle class="st1 nasa-logo" cx="159.6" cy="126.42" r="1.08"/>
        <path class="st1 nasa-logo" d="M130.44,16.05l2.69-.26-2.68-.15a1.2,1.2,0,0,0-1-1L129.17,12l-.16,2.7a1.2,1.2,0,0,0-.92,1l-2.75.25,2.77.15a1.19,1.19,0,0,0,.95.91l.25,2.76.15-2.75A1.2,1.2,0,0,0,130.44,16.05Z"/>
        <path class="st1 nasa-logo" d="M85,46l2.69-.26-2.68-.15a1.19,1.19,0,0,0-1-1l-.25-2.68-.16,2.7a1.19,1.19,0,0,0-.92,1l-2.75.25,2.77.15a1.19,1.19,0,0,0,1,.91l.25,2.76L84.06,47A1.19,1.19,0,0,0,85,46Z"/>
        <path class="st1 nasa-logo" d="M185.61,125.18l2.69-.26-2.68-.15a1.2,1.2,0,0,0-1-1l-.26-2.68-.15,2.7a1.22,1.22,0,0,0-.92,1l-2.75.25,2.77.15a1.2,1.2,0,0,0,.95.91l.25,2.76.15-2.75A1.2,1.2,0,0,0,185.61,125.18Z"/>
        <path class="st1 nasa-logo" d="M76,166.58l2.69-.26L76,166.17a1.19,1.19,0,0,0-1-1l-.26-2.68-.15,2.7a1.19,1.19,0,0,0-.92,1l-2.75.25,2.77.15a1.18,1.18,0,0,0,.94.91l.25,2.76.15-2.75A1.21,1.21,0,0,0,76,166.58Z"/>
        <path class="st1 nasa-logo" d="M177.07,146.39l2.69-.26-2.69-.15a1.18,1.18,0,0,0-1-1l-.26-2.68-.15,2.7a1.17,1.17,0,0,0-.92,1l-2.75.25,2.77.14a1.19,1.19,0,0,0,.95.92l.25,2.76.14-2.76A1.2,1.2,0,0,0,177.07,146.39Z"/>
        <path class="st1 nasa-logo" d="M97.21,118.58c-2.13-2.68-5.07-6.26-7.28-9-3-3.71-5.69-7.47-8.19-11.22l-2.45.61a172.36,172.36,0,0,0,10,14c2.68,3.36,5.11,6.07,6.35,7.76.25.34.75,1.09,1.43,2.1.78-.53,1.56-1.07,2.36-1.6C98.7,120.38,97.94,119.5,97.21,118.58Zm15.53,14.1c-1.75-1.66-6-4.42-10.4-8.56l-2.94,2c2.85,4,6.73,8.94,9.77,10.38C113.74,138.7,115,134.8,112.74,132.68Z"/>
        <path class="st2 nasa-logo" d="M132.51,71.58c-11.22,4.36-22.17,8.25-31.4,11.14C82.35,88.59,31,104.5,0,124.55l2.6,1c18.89-10.68,31.17-14,43-17.74,12.84-4,54.34-13.76,73.13-19,6.35-1.79,13.78-4.13,21.66-7q-2.76-3.83-5.8-7.67C133.89,73.27,133.2,72.41,132.51,71.58Z"/>
        <path class="st2 nasa-logo" d="M192.25,61.88c11.37-9.55,34.56-29.37,43.58-55.61-16.44,20.92-35.89,32.89-47.45,39.67-13.14,7.7-33.85,17-53.95,24.88l1.44,1.78q3.36,4.25,6.35,8.53C158,75.31,175.35,67.5,189.1,58.05c-.89.85-2.07,1.88-3.46,3.05Z"/>
        <text id="shadow" class="st2" x="50%" y="47%" dominant-baseline="middle" text-anchor="middle" font-family="arial" font-style="italic" font-weight="bold" font-size="6vh" style="fill:#fff">[gay panic]</text>
        <text id="txt" class="st1" x="50%" y="47%" dominant-baseline="middle" text-anchor="middle" font-family="arial" font-style="italic" font-weight="bold" font-size="6vh" style="fill:#ffa39f">[gay panic]</text>
        <path class="st2 nasa-logo" d="M146.21,90.47c-2.71,1.83-5,3.3-6.58,4.22-9.24,5.34-54.24,36.06-64.48,43.13s-38.65,33.89-47,41.68l-.29,3.17c27-24.23,35.44-30.21,46.16-38.36,13.27-10.1,40.72-28.78,50.05-34.76q13.38-8.6,24.18-15.8c-.12-.2-.24-.4-.35-.6C147.33,92.26,146.78,91.37,146.21,90.47ZM185.71,61c-8.83,7.43-26.62,20.63-38,28.43.68,1.1,1.34,2.21,2,3.32C169.67,79.4,183.13,69.54,191,63l1.33-1.12Z"/>
        <path class="st1 nasa-logo" d="M70.24,34.28a11.53,11.53,0,0,0-1.91,1.23c-9.73,7.73-5.8,30.52,8.55,55l-2.19.74C60.47,66.13,56.24,42.17,66.56,34a13.34,13.34,0,0,1,2.59-1.61Z"/>
        <path class="st1 nasa-logo" d="M70.17,34.32c13.25-6.9,41.11,10.49,64.41,39.8a183.92,183.92,0,0,1,13.3,19c14.45,23.92,18.89,45.55,8.9,54.38-3.06,2.7-12.39,3.76-24.62-1.74-.17.21.1.79.31.93,10.56,4.25,20.68,5.87,25.78,1.81,12.27-9.75,2.85-44.18-22.38-75.93-23.7-29.82-52.39-47-66.78-40.21Z"/>
     </g>
    
  </svg>
  </div>
  <canvas id="cvs"></canvas>

  <div id="image-preview-modal">
    <div id="image-preview">
      <!-- <button id="close-preview" class="mui-btn mui-btn--small mui-btn--primary mui-btn--flat" ><span class="material-icons">close</span></button> -->
      <div style="z-index:2;" id="image-preview-container"></div>
      <span style="position:absolute"> Try toggling image again :) </span>
    </div>
  </div>

  <div id="settings-panel">

    <div class="settings-header">
      <button id="save" class="mui-btn mui-btn--small mui-btn--primary mui-btn--flat" ><span class="material-icons">image</span></button>
      <button id="randomize" class="mui-btn mui-btn--small mui-btn--primary mui-btn--flat" ><span class="material-icons">casino</span></button>
      <button id="nasa" class="mui-btn mui-btn--small mui-btn--primary mui-btn--flat" > <image src="/assets/img/nasa.svg" style="height:30px;"></image></button>
      <button id="settings" class="mui-btn mui-btn--small mui-btn--primary mui-btn--flat" ><span class="material-icons">settings</span></button>
    </div>
    <div class="input-group">
      <div class="mui-textfield" style = "padding:5px; width: 100%;">
        <input id="textContent" type="text" value="[gay panic]">
      </div>
    </div>
    <div class="input-group">
      <div class="mui-checkbox" style="margin-right: 20px;">
        <label>
          <input type="checkbox" value="" id="has-stars">
          <span class="description">‚≠ê</span>
        </label>
      </div>
      <select id="fontselect"></select>
    </div>
    <div class="input-group">
      <div class="mui-checkbox" style="margin-right: 20px;">
        <label>
          <input type="checkbox" value="" checked id="italics">
          <span class="description">Italics</span>
        </label>
      </div>
      <div class="mui-checkbox">
        <label>
          <input type="checkbox" value="" checked id="has-shadow">
          <span class="description">Shadow</span>
        </label>
      </div>
    </div>
    <div class="input-group">
      <span id="randBgColor" class="material-icons">casino</span> <span class="description">Background</span>
      <input id="bgColor" type="color" value="#ffd6bb">
    </div>
    <div class="input-group">
      <span id="randTextColor" class="material-icons">casino</span> <span class="description">Text</span>
      <input id="textColor" type="color" value="#ffa39f">
    </div>
    <div class="input-group">
      <span id="randShadowColor" class="material-icons">casino</span> <span class="description">Shadow</span>
      <input id="shadowColor" type="color" value="#ffffff">
    </div>

    <div class="input-group">
      <span id="randPlanetColor" class="material-icons">casino</span> <span class="description" style="font-size:25px; margin-top: -9px;">ü™ê</span>
      <input id="planetColor" type="color" value="#0B3D91">
    </div>


    <div class="input-group">
      <span class="description">Spacing</span>
      <input id="spacing" type="range" min="-10" max="50" value="0">
    </div>

    <div class="input-group">
      <span class="description">Size</span>
      <input id="size" type="range" min="-100" max="200" value="0">
    </div>

    <div class="input-group">
      <span class="description">Text X</span>
      <input id="textX" type="range" min="-100" max="100" value="0">
    </div>
    <div class="input-group">
      <span class="description">Text Y</span>
      <input id="textY" type="range" min="-200" max="200" value="0">
    </div>

    <div class="input-group">
      <span class="description">Shadow X</span>
      <input  id="shadowX" type="range" min="-100" max="100" value="3">
    </div>
    <div class="input-group">
      <span class="description">Shadow Y</span>
      <input id="shadowY" type="range" min="-100" max="100" value="-1">
    </div>

    <div id="palettes" class="input-group">

    </div>
  </div>
</body>

<script type="module">
  const _iOSDevice = !!navigator.platform.match(/iPhone|iPod|iPad/);
  const appHeight = () => {
    const doc = document.documentElement
    doc.style.setProperty('--app-height', `${window.innerHeight}px`)
  }
  window.addEventListener('resize', appHeight)
  appHeight()

  import { Canvg } from 'https://cdn.skypack.dev/canvg';

  let shadow = $('#shadow');
  let text = $('#txt');
  let nasaLogo = $('.nasa-logo');
  const pixelRatio = window.devicePixelRatio || 1;

  let xOffset = 0;
  let yOffset = 0;
  let shadowXOffset = 3;
  let shadowYOffset = -1;
  let sizeDelta = 0;
  let textSpacing = 0;

  //NASA
  
  function randn_bm() {
    let u = 0, v = 0;
    while(u === 0) u = Math.random(); //Converting [0,1) to (0,1)
    while(v === 0) v = Math.random();
    let num = Math.sqrt( -2.0 * Math.log( u ) ) * Math.cos( 2.0 * Math.PI * v );
    num = num / 10.0 + 0.5; // Translate to 0 -> 1
    if (num > 1 || num < 0) return randn_bm() // resample between 0 and 1
    return num
  }

  let nasaScale = 1;
  let nasaHeight = 192.99;
  let nasaWidth = 228.83;

  $('.st2').css('fill', '#FC3D21');
  $('.st1').css('fill', '#FFFFFF');
  $('.st0').css('fill', '#0B3D91');

  function populateStars() {
    let starAmount = rand255();
    let dim = document.getElementById("background").getBBox();
    for(let i = 0; i < starAmount; i++) {
      let pointyStar = rand255() < 128;
      if (!pointyStar) {
        d3.select("#stars").append("circle")
          .attr("class", 'st0 star')
          .attr("r", 2 * Math.random())
          .attr("cx", Math.random() * dim.width)
          .attr("cy", Math.random() * dim.height)
          .attr("style", "fill:#0B3D91");
      } else {
        let scale = Math.random() * 8;
        d3.select("#stars").append("path")
          .attr('d','M58.71 12.288l1.119-.107-1.117-.063c-.035-.216-.208-.385-.426-.413l-.107-1.114-.064 1.123c-.202.045-.357.214-.382.424l-1.144.104 1.152.062c.042.193.198.344.394.38l.104 1.148.061-1.146C58.507 12.651 58.671 12.492 58.71 12.288z')
          .attr('transform', `translate(${Math.random() * dim.width}, ${Math.random() * dim.height}) scale(${scale},${scale})`)
          .attr("class", 'st0 star')
          .attr("style", "fill:#0B3D91");
      }
    }
    $("#svg-cont").html($("#svg-cont").html());
  }

  function hideStars() {
    $('.star').remove();
  }

  updateLayout();
  function updateLayout() {
    let spacingOffset = _iOSDevice? 0 : textSpacing/2;
    text.attr('transform', `translate(${xOffset + spacingOffset},${yOffset})`);
    shadow.attr('transform', `translate(${xOffset + shadowXOffset + spacingOffset},${yOffset + shadowYOffset})`);

    text.attr('font-size', `${6 + sizeDelta/30.0}vh`);
    shadow.attr('font-size', `${6 + sizeDelta/30.0}vh`);

    text.attr('letter-spacing', textSpacing);
    shadow.attr('letter-spacing', textSpacing);

    let dim = document.getElementById("background").getBBox();
    let x = (dim.width - nasaWidth * nasaScale)/2;
    let y = (dim.height - nasaHeight * nasaScale)/2 * 0.9;
    nasaLogo.attr('transform', `scale(${nasaScale}, ${nasaScale}) translate(${x}, ${y})`);
    
  }

  function rand255() {
    return Math.floor(Math.random() * 255);
  }
  function toHex(c) {
    var hex = c.toString(16);
    return hex.length == 1 ? "0" + hex : hex;
  }

  function rgbToHex(r, g, b) {
    return "#" + toHex(r) + toHex(g) + toHex(b);
  }

  function randHex() {
    return rgbToHex(rand255(), rand255(), rand255());
  }

  function randBgColor() {
    let newColor = randHex();
    $("#background").css("fill", newColor);
    $('#bgColor').val(newColor);
  }

  function randTextColor() {
    let newColor = randHex();
    $(".st1").css("fill", newColor);
    $('#textColor').val(newColor);
  }

  function randShadowColor() {
    let newColor = randHex();
    $(".st2").css("fill", newColor);
    $('#shadowColor').val(newColor);
  }

  function randPlanetColor() {
    let newColor = randHex();
    $(".st0").css("fill", newColor);
    $('#planetColor').val(newColor);
  }

  $('#randomize').click(()=>{
    randBgColor();
    randTextColor();
    randShadowColor();
    randPlanetColor();
  });

  $('#randBgColor').click(()=>{
    randBgColor();
  });

  $('#randTextColor').click(()=>{
    randTextColor();
  });

  $('#randShadowColor').click(()=>{
    randShadowColor();
  });

  $('#randPlanetColor').click(()=>{
    randPlanetColor();
  });

  const palettes = [
    ['006E7F', 'F8CB2E', 'EE5007', 'B22727'],
    ['E9D5DA', '827397', '4D4C7D', '363062'],
    ['F1DDBF', '525E75', '78938A', '92BA92'],
    ['4700D8', '9900F0', 'F900BF', 'FF85B3'],
    ['112B3C', '205375', 'F66B0E', 'EFEFEF'],
    ['E9EFC0', 'B4E197', '83BD75', '4E944F'],
    ['B4FF9F', 'F9FFA4', 'FFD59E', 'FFA1A1'],

  ];

  for (let i = 0; i < palettes.length; i++) {
    let id = `palette${i}`; 
    jQuery('<div>', {
      id: id,
      class: 'palette',
    }).appendTo('#palettes').click(()=>{
      let shuffled = palettes[i]
                      .map(value => ({ value, sort: Math.random() }))
                      .sort((a, b) => a.sort - b.sort)
                      .map(({ value }) => value)
      $("#background").css("fill", `#${shuffled[0]}`);
      $(".st1").css("fill", `#${shuffled[1]}`);
      $(".st2").css("fill", `#${shuffled[2]}`);
      $(".st0").css("fill", `#${shuffled[3]}`);

      $("#bgColor").val(`#${shuffled[0]}`);
      $("#textColor").val(`#${shuffled[1]}`);
      $('#shadowColor').val(`#${shuffled[2]}`);
      $('#planetColor').val(`#${shuffled[3]}`);

    });
    for(let j = 0; j < palettes[i].length; j++) {
      jQuery('<div>', {
        class: 'palette-item',
        style: `background-color:#${palettes[i][j]}`,
      }).appendTo(`#${id}`);
    }
  }

  let previewing = false;
  let canvas = document.getElementById('cvs');
  $('#save').click(async ()=>{
    if (previewing) {
      $('#cvs').remove();
      $('#image-preview').css('opacity', '0');
      previewing = false;
      return;
    }

    jQuery('<canvas>', {
        id: 'cvs',
    }).appendTo('body');
    let svg  = document.getElementById('wallpaper');
    let ctx = document.getElementById('cvs').getContext('2d');
    ctx.setTransform(pixelRatio,0,0,pixelRatio,0,0);
    //let v = Canvg.fromString(ctx, svg.outerHTML);
    //v.start();
    $('#settings-panel').css('opacity', '0');
    let cvs = await html2canvas(document.getElementById('wallpaper-container'));
    $('#settings-panel').css('opacity', '1');
    // updateLayout();
    const imgURI = cvs
      .toDataURL('image/png');

    $('#image-preview-container').html(`<img src="${imgURI}" height="90%"/>`);
    $('#image-preview').css('opacity', '1');
    previewing = true;
  })

  $('#close-preview').click(function() {
    $('#image-preview').css('opacity', '0');
    previewing = false;
  })

  function download(href) {
    let download = document.createElement('a');
    download.href = href;
    download.download = 'img.png';
    download.click();
    download.remove();
  }

  $(document).on('input', '#spacing', function() {
    textSpacing = parseInt($(this).val());
    updateLayout();
  });

  $(document).on('input', '#textX', function() {
    xOffset = parseInt($(this).val());
    updateLayout();
  });

  $(document).on('input', '#textY', function() {
    yOffset = parseInt($(this).val());
    updateLayout();
  });

  $(document).on('input', '#shadowX', function() {
    shadowXOffset = parseInt($(this).val());
    updateLayout();
  });

  $(document).on('input', '#shadowY', function() {
    shadowYOffset = parseInt($(this).val());
    updateLayout();
  });

  $(document).on('input', '#bgColor', function() {
    $("#background").css("fill", $(this).val());
  });

  $(document).on('input', '#textColor', function() {
    $(".st1").css("fill", $(this).val());
  });

  $(document).on('input', '#shadowColor', function() {
    $(".st2").css("fill", $(this).val());
  });

  $(document).on('input', '#planetColor', function() {
    $(".st0").css("fill", $(this).val());
  });

  function setText(newText) {
    $("#txt").text(newText);
    $("#shadow").text(newText);
  }
  $(document).on('input', '#textContent', function() {
    setText($(this).val());
  });


  $(document).on('input', '#size', function() {
    sizeDelta =  parseInt($(this).val());
    updateLayout();
  });

  let collapsed = true;
  $('#settings').click( function() {
    if (collapsed) {
      $('#settings-panel').css('height', '480px');
    } else {
      $('#settings-panel').css('height', '40px');
    }
    collapsed = !collapsed;
  });

  let nasaVisible = false;
  $('#nasa').click( function() {
    if (nasaVisible) {
      hideStars();
      nasaLogo.css('opacity', '0');
    } else {
      $('#background').css('fill', '#C6E7FB');
      $('#bgColor').val('#C6E7FB');
      setFont('abril');
      setText('GAY');
      setItalics(false);
      $("#italics").removeAttr('checked');
      $('#fontselect').val('abril');
      shadow.css('opacity', '0');
      $("#has-shadow").removeAttr('checked');
      $('#textContent').val('GAY');
      $('.st1').css('fill', 'white');
      $('#textColor').val('#ffffff');
      $('.st2').css('fill', '#FC3D21');
      $('#shadowColor').val('#FC3D21');
      textSpacing = 12;
      $('#spacing').val(12);
      sizeDelta = 20;
      $('#size').val(20);
      updateLayout();
      populateStars();
      $('#has-stars').attr('checked', true);
      nasaLogo.css('opacity', '1');
    }
    nasaVisible = !nasaVisible;
  });

  function setItalics(isItalics) {
    if (isItalics) {
      $('#txt').attr('font-style', 'italic');
      $('#shadow').attr('font-style', 'italic');
    } else {
      $('#txt').attr('font-style', '');
      $('#shadow').attr('font-style', '');
    }
  }

  $("#italics").change( function() {
    setItalics(this.checked);
  })

  $("#has-shadow").change( function() {
    if (this.checked) {
      $('#shadow').css('opacity', '1');
    } else {
      $('#shadow').css('opacity', '0');
    }
  })

  $("#has-stars").change( function() {
    if (this.checked) {
      populateStars();
    } else {
      hideStars();
    }
  })

  //FONTS
  let fonts = ['arial', 'abril', 'bangers', 'courier'];
  $('#fontselect').val('arial');
  for (let i = 0; i < fonts.length; i++) {
    jQuery('<option>', {
        value: fonts[i],
        html: fonts[i],
      }).appendTo(`#fontselect`);
  }

  function setFont(fontName) {
    text.attr('font-family',  fontName );
    shadow.attr('font-family',  fontName );
  }

  $('#fontselect').on('change', function () {
    setFont(this.value);
  });
</script>
</html>
